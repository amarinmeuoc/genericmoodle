define("local_ticketmanagement/checklogs",["exports","core_form/modalform","core/notification","core/toast","core/str"],(function(_exports,_modalform,_notification,_toast,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=_interopRequireDefault(_modalform),_notification=_interopRequireDefault(_notification);_exports.init=()=>{document.querySelectorAll(".logs").forEach((node=>{node.addEventListener("click",(e=>{showTicketActions(e)}))}))};const showTicketActions=e=>{e.stopPropagation();const ticketId=e.target.dataset.ticketid,modalForm=new _modalform.default({formClass:"\\local_ticketmanagement\\form\\ActionsFormPopup",args:{num_ticket:ticketId},modalConfig:{title:"Ticket details: #".concat(ticketId)},returnFocus:e.target});modalForm.show(),modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(e=>{})),modalForm.addEventListener(modalForm.events.LOADED,(e=>{areElementsLoaded("#boactionid").then((elements=>{const addActionBtn=elements.length>0?elements[0]:null;addActionBtn&&addActionBtn.addEventListener("click",(function(){console.log("Add Action button clicked!")}))}))}))},areElementsLoaded=selector=>new Promise((resolve=>{const checkElements=()=>{const elements=document.querySelectorAll(selector);elements.length>0&&Array.from(elements).every((elem=>null!==elem))?resolve(elements):requestAnimationFrame(checkElements)};checkElements()}))}));

//# sourceMappingURL=checklogs.min.js.map
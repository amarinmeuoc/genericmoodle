{"version":3,"file":"deleteTicket.min.js","sources":["../src/deleteTicket.js"],"sourcesContent":["import ModalForm from 'core_form/modalform';\nimport Notification from 'core/notification';\nimport {add as addToast} from 'core/toast';\nimport {get_string as getString} from 'core/str';\n\nexport const init =() => {\n    \n    const removebtn=document.querySelectorAll('.removebtn');\n\n    removebtn.forEach((node)=>{\n        node.addEventListener('click',(e)=>{\n            removeTicketFormPopup(e);\n        })\n    })\n}\n\nconst removeTicketFormPopup=(e)=>{\n    e.stopPropagation();\n    const fila=e.target.closest('tr');\n    const ticket=fila.querySelector('.tickets');\n    const ticketId=ticket.textContent.substr(1);\n    const modalForm=new ModalForm({\n        formClass: \"\\\\local_ticketmanagement\\\\form\\\\RemoveTicketFormPopup\",\n        args: {num_ticket: ticketId},\n        modalConfig: {title: `Ticket details: #${ticketId}`},\n        returnFocus:e.target\n    });\n\n    modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, (e)=>{\n        //Se actualiza la pagina principal con los nuevos valores y se envia email de notificaciÃ³n\n    });\n\n    modalForm.addEventListener(modalForm.events.LOADED, (e)=>{\n        //Changing the text of the dynamic button\n        //e.target.querySelector(\"button[data-action='save']\").textContent=\"Send Email\"\n        \n        }\n    );\n    \n    modalForm.show();\n\n}"],"names":["document","querySelectorAll","forEach","node","addEventListener","e","removeTicketFormPopup","stopPropagation","ticketId","target","closest","querySelector","textContent","substr","modalForm","ModalForm","formClass","args","num_ticket","modalConfig","title","returnFocus","events","FORM_SUBMITTED","LOADED","show"],"mappings":"mcAKmB,KAECA,SAASC,iBAAiB,cAEhCC,SAASC,OACfA,KAAKC,iBAAiB,SAASC,IAC3BC,sBAAsBD,gBAK5BC,sBAAuBD,IACzBA,EAAEE,wBAGIC,SAFKH,EAAEI,OAAOC,QAAQ,MACVC,cAAc,YACVC,YAAYC,OAAO,GACnCC,UAAU,IAAIC,mBAAU,CAC1BC,UAAW,wDACXC,KAAM,CAACC,WAAYV,UACnBW,YAAa,CAACC,iCAA2BZ,WACzCa,YAAYhB,EAAEI,SAGlBK,UAAUV,iBAAiBU,UAAUQ,OAAOC,gBAAiBlB,QAI7DS,UAAUV,iBAAiBU,UAAUQ,OAAOE,QAASnB,QAOrDS,UAAUW"}
{"version":3,"file":"init.min.js","sources":["../src/init.js"],"sourcesContent":["import {exception as displayException} from 'core/notification';\nimport Templates from 'core/templates';\nexport const init = (order,orderby,page, offset, showCustomerSelect,token) => {\n    const valuesObj={\n        order:order,\n        orderby:orderby,\n        page:page,\n        offset:offset,\n        showCustomerSelect:showCustomerSelect,\n        token:token,\n        pages:document.querySelectorAll('.pagination>li a'),\n        customerid:document.querySelector('#customerid'),\n        startdate:document.querySelector('#startdate'),\n        enddate:document.querySelector('#enddate'),\n        group:document.querySelector('#selgroupid'),\n        billid:document.querySelector('#billid'),\n        attP:document.querySelector('#chkPresent'),\n        attA:document.querySelector('#chkAbsent'),\n        attL:document.querySelector('#chkLate'),\n        attE:document.querySelector('#chkExcused'),\n        ordenablefield:document.querySelectorAll('.orderby'),\n        button:document.querySelector('#idfilter')\n    }\n\n    //Depending of in which column the user clicks, the orderby needs to be setup with the right name.\n    valuesObj.ordenablefield.forEach((element) => {\n        element.addEventListener('click',(e)=>{\n            if (valuesObj.orderby===e.target.dataset.value)\n                valuesObj.order=(valuesObj.order==='ASC')?'DESC':'ASC';\n            valuesObj.orderby=e.target.dataset.value;\n            //valuesObj.page=parseInt(document.querySelector('.pagination .active').textContent);\n            valuesObj.page=1;\n            processRequest(valuesObj);\n        })\n    },valuesObj);\n\n    //Controlling the pagination\n    valuesObj.pages.forEach(elem=>{\n        elem.addEventListener('click',(e)=>{       \n            e.preventDefault();\n            //page=e.target.closest('li').dataset.value-1;\n            processRequest(valuesObj);\n        })\n    },valuesObj);\n\n    //Filtering...\n    valuesObj.button.addEventListener('click',(e)=>{\n        const loader=document.querySelector('.loader');\n        const table=document.querySelector('.generaltable');\n        loader.classList.remove('hide');\n        loader.classList.add('show');\n        table.classList.add('hide');\n        valuesObj.page=1; //Starting from page 1\n        processRequest(valuesObj);\n    },valuesObj)\n\n    if (valuesObj.showCustomerSelect){\n        customerid.addEventListener('change',(e)=>{\n            updateGroupList(e,valuesObj);\n        });\n    }\n};\n\nconst updateGroupList=(e,values)=>{\n    const cid=e.target.value;\n    requestGroupList(cid,values);\n}\n\nconst requestGroupList=(cid,values)=>{\n    let xhr=new XMLHttpRequest();\n    const url=M.cfg.wwwroot+'/webservice/rest/server.php';\n    xhr.open('POST',url,true);\n \n    const formData= new FormData();\n    formData.append('wstoken',values.token);\n    formData.append('wsfunction','report_dailyattendance_get_list_group');\n    formData.append('moodlewsrestformat','json');\n    formData.append('params[0][customerid]',cid);\n\n    xhr.send(formData);\n    xhr.onloadstart=(event)=>{\n        showLoader(event);\n    };\n    xhr.onload = (event) =>{\n        onLoadGroupListFunction(xhr, cid);\n    };\n    xhr.onprogress = (event)=>{\n        onProgressFunction(event);\n    };\n    xhr.onloadend=(event)=>{\n        hideLoader(event);\n    }\n    xhr.onerror = function() {\n        window.console.log(\"Solicitud fallida\");\n    };\n}\n\nconst onLoadGroupListFunction=(myXhr,cid)=>{\n    if (myXhr.readyState===4 && myXhr.status===200){\n        const res=JSON.parse(myXhr.response);\n        \n        //Getting the JSON Object so rebuilding the group Selector\n        \n        const selGroup=document.querySelector('#selgroupid');\n        selGroup.innerHTML=\"\";\n        res.forEach(group=>{\n            selGroup.innerHTML+=`<option value=${group.id}>${group.name}</option>`\n        })\n\n        \n    }\n}\n\nconst processRequest=(valuesObj)=>{\n    const sdv=Math.floor(new Date(valuesObj.startdate.value).getTime() / 1000);\n    const edv=Math.floor(new Date(valuesObj.enddate.value).getTime() / 1000);\n    const cv=valuesObj.customerid.value;\n    const vv=parseInt(valuesObj.group.value);\n    const bv=valuesObj.billid.value;\n    const attStatus={\n        attPv:(valuesObj.attP.checked)?true:false,\n        attAv:(valuesObj.attA.checked)?true:false,\n        attLv:(valuesObj.attL.checked)?true:false,\n        attEv:(valuesObj.attE.checked)?true:false,\n    };\n    const ofv=valuesObj.offset;\n    const adaptedObj={\n        orderby:valuesObj.orderby,\n        order:valuesObj.order,\n        page:valuesObj.page,\n        attStatus:attStatus,\n        ofv:ofv,\n        sdv:sdv,\n        edv:edv,\n        cv:cv,\n        vv:vv,\n        bv:bv,\n        showCustomerSelect:valuesObj.showCustomerSelect,\n        token:valuesObj.token\n    }\n    \n    processRequestStart(adaptedObj);\n\n    \n}\n\nconst processRequestStart=(adaptedObj)=>{\n    let xhr=new XMLHttpRequest();\n    const url=M.cfg.wwwroot+'/webservice/rest/server.php';\n    xhr.open('POST',url,true);\n \n    const formData= new FormData();\n    formData.append('wstoken',adaptedObj.token);\n    formData.append('wsfunction','report_dailyattendance_get_list_courses');\n    formData.append('moodlewsrestformat','json');\n    \n    formData.append('params[0][orderby]',adaptedObj.orderby);\n    formData.append('params[0][order]',adaptedObj.order);\n    formData.append('params[0][page]',adaptedObj.page);\n    formData.append('params[0][startdate]',adaptedObj.sdv);\n    formData.append('params[0][enddate]',adaptedObj.edv);\n    formData.append('params[0][groupid]',adaptedObj.vv);\n    formData.append('params[0][billid]',adaptedObj.bv);\n    formData.append('params[0][attendanceStatus][statusPresent]',adaptedObj.attStatus.attPv);\n    formData.append('params[0][attendanceStatus][statusAbsent]',adaptedObj.attStatus.attAv);\n    formData.append('params[0][attendanceStatus][statusLate]',adaptedObj.attStatus.attLv);\n    formData.append('params[0][attendanceStatus][statusExcused]',adaptedObj.attStatus.attEv);\n    formData.append('params[0][offset]',adaptedObj.ofv);\n    formData.append('params[0][customerid]',adaptedObj.cv);\n    \n    setTimeout(()=>{\n        xhr.send(formData);\n    },100);\n    \n    xhr.onload = (event) =>{\n        onLoadFunction(xhr, adaptedObj.orderby, adaptedObj.order, adaptedObj.page, adaptedObj.ofv, adaptedObj.showCustomerSelect, adaptedObj.cv,adaptedObj.token);\n    };\n    xhr.onloadstart=(event)=>{\n        showLoader(event);\n    }\n    xhr.onprogress = (event)=>{\n        onProgressFunction(event);\n    } \n    xhr.onloadend=(event)=>{\n        hideLoader(event);\n    }\n    xhr.onerror = function() {\n        window.console.log(\"Solicitud fallida\");\n    };\n}\n\nconst onLoadFunction=(myXhr, orderby, order, page, ofv, showCustomerSelect, customerid,token)=>{\n    \n\n    if (myXhr.readyState===4 && myXhr.status===200){\n        const res=JSON.parse(myXhr.response);\n        \n        const formattedData={\n            showCustomerSelect:showCustomerSelect,\n            customerid:customerid,\n            attendance_list:res[0].attendance_list,\n            num_records:res[0].attendance_list.length,\n            num_total_records:res[0].num_total_records,\n            order:(res[0].order==='ASC')?true:false,\n            orderby:orderby,\n            activepagenumber:page,\n            offset:ofv,\n            pages:truncateArrayWithActiveMiddle(res[0].pages,8),\n            totalPages:res[0].pages.length,\n            orderbydate:res[0].orderbydate,\n            orderbybillid:res[0].orderbybillid,\n            orderbygroup:res[0].orderbygroup,\n            orderbyname:res[0].orderbyname,\n            orderbylastname:res[0].orderbylastname,\n            orderbydescription:res[0].orderbydescription,\n            orderbywbs:res[0].orderbywbs,\n            token:token,\n            barsize:(res[0].pages.length<=3)?'small':'large',\n            previous:[\n                {\n                    page:(page-1<1)?page:page-1,\n                    url:window.location.href,\n                }\n            ],\n            next:[\n                {\n                    page:(page+1<res[0].pages.length)?page:page+1,\n                    url:window.location.href,\n                }\n            ],\n            first:[\n                {\n                    page:1,\n                    url:window.location.href,\n                }\n            ],\n            last:[\n                {\n                    page:res[0].pages.length,\n                    url:window.location.href,\n                }\n            ]\n        }\n        showTemplateAttendance(formattedData);\n       \n    }\n}\nconst showLoader=(event)=>{\n    const loader=document.querySelector('.loader');\n    loader.classList.remove('hide');\n    loader.classList.add('show');\n    const table=document.querySelector('.generaltable');\n    table.classList.add('hide');\n}\nconst onProgressFunction=(event) =>{\n    console.log(`Uploaded ${event.loaded} of ${event.total}`);\n    \n}\n\nconst hideLoader=(event)=>{\n    const loader=document.querySelector('.loader');\n    const table=document.querySelector('.generaltable');\n    loader.classList.remove('show');\n    loader.classList.add('hide');\n    table.classList.remove('hide');\n}\n\nfunction showTemplateAttendance(response){\n    //Render the choosen mustache template by Javascript\n    Templates.renderForPromise('report_dailyattendance/content-ajax',response)\n    .then(({html,js})=>{\n        \n        const content=document.querySelector('#content');\n        content.innerHTML='';\n        Templates.appendNodeContents(content,html,js);\n            const pages=document.querySelectorAll('.pagination>li a');\n            const customerid=document.querySelector('#customerid');\n            const sd=document.querySelector('#startdate');\n            const ed=document.querySelector('#enddate');\n            const group=document.querySelector('#selgroupid');\n            const billid=document.querySelector('#billid');\n            const attP=document.querySelector('#chkPresent');\n            const attA=document.querySelector('#chkAbsent');\n            const attL=document.querySelector('#chkLate');\n            const attE=document.querySelector('#chkExcused');\n            const ordenablefield=document.querySelectorAll('.orderby');\n            const order=(response.order)?'ASC':'DESC';\n            const showCustomerSelect=response.showCustomerSelect;\n            const offset=response.offset;\n            const orderby=response.orderby;\n            const page=response.activepagenumber;\n            const token=response.token;\n            const valuesObj={\n                order:order,\n                orderby:orderby,\n                page:page,\n                offset:offset,\n                showCustomerSelect:showCustomerSelect,\n                token:token,\n                pages:pages,\n                customerid:customerid,\n                startdate:sd,\n                enddate:ed,\n                group:group,\n                billid:billid,\n                attP:attP,\n                attA:attA,\n                attL:attL,\n                attE:attE,\n                ordenablefield:ordenablefield\n            }\n            \n           \n\n            //Depending of in which column the user clicks, the orderby needs to be setup with the right name.\n            ordenablefield.forEach((element) => {\n                element.addEventListener('click',(e)=>{\n                    e.preventDefault();\n                    //const page=parseInt(document.querySelector('.pagination .active').textContent);\n                    const page=1;\n                    \n                    if (valuesObj.orderby===e.target.dataset.value)\n                        valuesObj.order=(valuesObj.order==='ASC')?'DESC':'ASC';\n                    const orderby=e.target.dataset.value;\n                    valuesObj.orderby=orderby;\n                    valuesObj.page=page;\n                    processRequest(valuesObj);\n                })\n            },valuesObj);\n            //Controlling the pagination\n            pages.forEach((elem)=>{\n\n                elem.addEventListener('click',(e)=>{\n                    const pages=document.querySelectorAll('.pagination>li');\n                    pages.forEach(elem=>{\n                        elem.classList.remove('active');\n                    });\n                    window.console.log(\"paginacion\");\n                    e.preventDefault();\n                    let pageval=valuesObj.page;\n                    if (/First/.test(e.target.text))\n                        pageval=1;\n                    if (/Last/.test(e.target.text))\n                        pageval=response.totalPages;\n                    if (/\\d/.test(e.target.text))\n                        pageval=parseInt(e.target.text);\n                    \n                    if (e.target.closest('a').attributes['aria-label'].value==='Next page') \n                        pageval=(valuesObj.page+1<=response.totalPages)?valuesObj.page+1:valuesObj.page;\n                    if (e.target.closest('a').attributes['aria-label'].value==='Previous page')\n                        pageval=(valuesObj.page-1<1)?valuesObj.page:valuesObj.page-1;\n                    \n                    valuesObj.page=pageval;\n                    processRequest(valuesObj);\n                })\n                \n            },valuesObj);\n\n    })\n    .catch((error)=>displayException(error));\n  }\n\n  function truncateArrayWithActiveMiddle(arr, maxLength) {\n    const activeIndex = arr.indexOf(arr.find(item => item.active)); // Combine find and indexOf\n  \n    // Handle cases where there's no active element or less than maxLength elements\n    if (activeIndex === -1 || arr.length <= maxLength) {\n      return arr;\n    }\n  \n    // Similar logic to calculate before and after lengths\n    const halfLength = Math.floor(maxLength / 2);\n    const beforeLength = Math.min(halfLength, activeIndex);\n    const afterLength = Math.min(halfLength, arr.length - activeIndex - 1);\n  \n    // Use a loop to iterate and build the truncated array\n    const truncatedArray = [];\n    for (let i = activeIndex - beforeLength; i <= activeIndex + afterLength; i++) {\n      if (i >= 0 && i < arr.length) { // Ensure we stay within array bounds\n        truncatedArray.push(arr[i]);\n      }\n    }\n  \n    return truncatedArray;\n  }\n  "],"names":["order","orderby","page","offset","showCustomerSelect","token","valuesObj","pages","document","querySelectorAll","customerid","querySelector","startdate","enddate","group","billid","attP","attA","attL","attE","ordenablefield","button","forEach","element","addEventListener","e","target","dataset","value","processRequest","elem","preventDefault","loader","table","classList","remove","add","updateGroupList","values","cid","requestGroupList","xhr","XMLHttpRequest","url","M","cfg","wwwroot","open","formData","FormData","append","send","onloadstart","event","showLoader","onload","onLoadGroupListFunction","onprogress","onProgressFunction","onloadend","hideLoader","onerror","window","console","log","myXhr","readyState","status","res","JSON","parse","response","selGroup","innerHTML","id","name","sdv","Math","floor","Date","getTime","edv","cv","vv","parseInt","bv","attStatus","attPv","checked","attAv","attLv","attEv","ofv","adaptedObj","processRequestStart","setTimeout","onLoadFunction","formattedData","attendance_list","num_records","length","num_total_records","activepagenumber","truncateArrayWithActiveMiddle","totalPages","orderbydate","orderbybillid","orderbygroup","orderbyname","orderbylastname","orderbydescription","orderbywbs","barsize","previous","location","href","next","first","last","renderForPromise","then","_ref","html","js","content","appendNodeContents","sd","ed","pageval","test","text","closest","attributes","catch","error","loaded","total","arr","maxLength","activeIndex","indexOf","find","item","active","halfLength","beforeLength","min","afterLength","truncatedArray","i","push"],"mappings":"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"}